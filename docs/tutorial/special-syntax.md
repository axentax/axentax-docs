---
sidebar_position: 4
---

# 特殊機能

### ディグリー指定

メロディック・マイナースケールのダイアトニックをコードベースで入力するのはなかなか骨です。\
ディグリー機能を使えば、キー、スケール名、モードなど指定することにより簡単に表現できるようになります。

ブロックに`:%(キー スケール)`を指定して、ブロック内に何番めのコードかを`%1 %2`のように記載するだけで自動的に設定スケールにマッチするコードが適用されます。

:::info ブロック内で指定できるディグリーnoteは、%1から%7までです。
:::

```
@@ {
  {
    %1 %2 %3 %4 %5 %6 %7
  }:degree(E minor)
}
```

:::warning スケール指定の`:scale`とは全く別な機能なので間違わないようにしましょう
:::

### ディグリーの詳細指定

`:%(キー スケール 7thまたは6th指定 モード指定)`で指定可能です。\

```
@@ 1/4 120 {
  %1 %2 %3 %4 %5 %6 %7
}:%(G melodic minor 7th)
```

```
@@ {
  %1 %2 %3 %4 %5 %6 %7
}:%(E major 7th mode 3th)
```

### ディグリーで使用できるスケール

```
major
harmonic major
minor
harmonic minor
melodic minor
```

## BPM

[基本的な記載方法のBPM](/docs/tutorial/basic-syntax#bpm)ではリージョンにBPMを設定することを学びましたが、ここではブロックにBPMを指定する方法を紹介します。

### ブロックでBPMを変更する

`:bpm(240)`のようにブロックで直接BPMを設定することができます。

```
@@ {
  { ||2:map(0..4):1/16 }:bpm(240)
  { ||2:map(0..8):1/16 }:bpm(100)
  { ||2:map(0..32):1/16 }:bpm(300)
}
```

<a id="dynamic-bpm"></a>

### 動的にBPMを遷移させる

ブロックに`:bpm(100..200)`のように記載することによりBPMを動的に遷移させることができます。

```
@@ {
  {
    ||2:map(0..31):1/16
  }:bpm(100..200)
}
```

:::warning `:bpm`はブロックに対してのみ指定できます。
:::

### offset

リージョンの前半で`@offset`を配置すると、`@offset`より前のnoteは手前のリージョンの時間枠で演奏します。

```
@@ 1/4 120 {
  {
    C r 
  }:map(*4)
}

@@ {
  |2:1/16:map(0..3) // この行は前のリージョンの時間枠で再生される
  @offset
  Em~~~
}
```

### click

`@click`を使用するとクリック音を鳴らすことができます。\
`@click(1/4)`のように指定することでクリック間隔を指定できます。
この場合、4分音符でクリック音が鳴ります。

クリック音を停止する場合、`@/click`を配置してくだい。

```
@@ 1/4 {
  @click(1/8)
  C7 Dm7 Em7 C7
  @click(1/4)
  Fmaj7#5~~~
}

@@ {
  @/click
  Badd13
  @click(1/6)
  Badd9
  Baug7
  @click(1/8)
  Edim7
}
```
